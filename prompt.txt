我现在需要你为我写一个JAVA版我的世界fabric端1.20.4版本的模组
注释齐全 易于理解 代码需要详细阐述它的实现原理并详细阐释所生成的每一个文件的用途
我会给你一个fabric 1.20.4的模板文件，帮助你去生成模组
模组分为服务端和客户端
模组的配置文件和域名文件统一存放在上层文件夹的areas-hint文件夹中
程序所有读取的配置文件和域名文件都应该在上层目录中的areas-hint文件夹进行
你不准在这个用于构造jar的文件夹（当前的mods）中生成示例配置文件和域名文件 生成了我不好修改 如果你要生成示例配置文件和域名文件 请生成在本文件夹上层文件夹的areas-hint文件夹中 
程序运行时不准生成示例域名文件
加载模组时应当首先检查上级文件夹中有没有areas-hint文件夹，如果没有再创建，如果有则开始读取
生成的示例的config中文不能是乱码 我用的是Windows
程序从 当前模组所在文件夹（指之后jar所在的mods文件夹）的上层文件夹中的areas-hint文件夹中 读取文件，  
这个文件夹的完整相对路径为：`../areas-hint"
客户端mod需要实现以下功能
客户端模组作用于装配该模组的单人 主要计算部分（）必须在本地电脑的CPU上计算
模组应该首先检查上级目录中是否有这个文件夹 如果没有这个文件夹的话则优先创建该文件夹（文件夹名字：areas-hint）
如果本身就有文件夹或者已经创建了文件夹那么模组要能够从在每一次进入服务器时从服务端获取并更新存放在areas-hint文件夹中并读取指定格式的文件
当服务端发给客户端和新的域名文件时，那么将自动更换和更新对应的文件
mod针对于主世界地狱和末地需要分开检测，所以说你需要存三个文件（文件名字对应维度名字）来分别读取不同的维度（每次读取对应维度名字的文件名字）
模组在玩家每次维度改变时或首次进入时需要获取玩家所在的维度 并读取其对应维度的文件
域名文件的格式为json
域名文件内部每行的格式如下 
{"name": "这里是区域名称（我将其定义为域名 这个定义上下文通用）", "vertices": [这是多边形的一个点,{横坐标,纵坐标},{横坐标,纵坐标},{横坐标,纵坐标}],"second-vertices":[{横向最小坐标值,纵向最大坐标值},{横向最大坐标值,纵向最大坐标值},{横向最大坐标值,纵向最小坐标值},{横向最小坐标值,纵向最小坐标值}],"level": 指域名等级（ 必须为整数 数字越大域名等级越小 1为顶级域名 2为二级域名 3为三级域名 2和3为次级域名 注意 1对于域名等级并不是最大值 ） ,"base-name":"这里是该域名所指向的是上一级的域名（指向的域名的域名等级必须等于该域名等级-1,null就是无上级域名）"]}
补充一下vertices为一级顶点 second-vertices为二级顶点
二级顶点用于快速预筛原理：先使用简单的AABB（轴对齐包围盒）进行快速排除

对于域名文件我用json的一行举个例子{"name": "一号区域", "vertices": [{0,10},{10,0},{0,-10},{5,5}],"second-vertices":[{-10,10},{10,10},{10,-10},{-10,-10}],"level": 1,"base-name": null } 
点的先后顺序 取决于多边形边角被点下的顺序 意思是指 两个位置相邻点连起来便是多边形的一条边

对于配置文件 mod需要提供以下选项
1.  Frequency  指程序每秒检测的最大的频率 后面只能跟数字 生成的程序应当默认为1
2. SubtitleRender 单指程序字样跳出的渲染方式不包括射线法判定位置的计算 这里要有三个选项 ①CPU （当写入这个选项时，程序要用CPU去渲染字样的跳出 你可以选择CPU的多线程渲染所有渲染操作必须使用软件渲染（不使用OpenGL/Vulkan）动画计算、文字渲染、特效处理全部在CPU线程完成禁止使用任何GPU加速功能）②OpenGL （当写入这个选项时 程序需要调用OpenGL去渲染字样的跳出 若没有对配置文件做修改 生成的程序应当默认是这个选项 你可以对这个渲染进行优化，你可以把部分计算放在CPU上，这个对gpu的负担要小，必须要兼容钠）③Vunkan （当写入这个选项时 程序需要调用Vunkan去渲染字样的跳出）
3. SubtitleStyle 这个指字幕跳出的样式，这里也有三个选项 ①full （意思指每次显示字幕都展现该位置的全部域名 下文关于判定的字样的展示的域名的叙述是一样的 只有顶级域名，那么就只展示顶级域名，如果是二级移民，那就展示顶级域名加二级域名，如果是三级域名，那么就展示顶级域名加二级域名加三级域名 域名与域名相连时中间用·符号分隔 从左到右的域名等级为从顶级到三级 举一个例子：顶级域名·二级域名·三级域名）②simple （意思是指每字显示字幕时都只展现发生改变后该位置的当前域名 如果是只在顶级域名内那么就展现当前的顶级域名 如果是在二级域名内并且不在三级域名和顶级域名内那么就只展现当前所在的二级域名 如果是在三级域名内，那么就只展示当前三级域名的域名名称 不展示顶级域名和二级域名）③mixed （这一个选项则是前面两种选项的混合 生成的配置文件默认是这个 首先如果你只在一级域名内那么就只显示你所在的那一层顶级域名 如果你在二级域名内，那么就显示所属的顶级域名和二级域名 中间用·来分隔 举个例子就像这样： 顶级域名·二级域名 如果你在三级域名内那么就只显示你所处在的那一层三级域名的域名名称）

mod加载时应该检测客户端有没有配置文件如果没有就按照默认配置生成一个 有配置文件的话就直接使用配置文件 生成的配置文件应该要包含每一个选项的注释 服务端没有配置文件 因为服务端并不用计算玩家的位置

模组应该给我的世界添加指令
主指令为：/areahint

子指令 : `/areahint help`
1.  名称：`help`
2.  功能：使用此指令时 向玩家列出所有的子指令并向玩家解释所有的子指令的作用和输入格式
目标选择器：作用于玩家自己
权限等级：0 (不需要管理员)

子指令 : `/areahint reload`
1.  名称：`reload`
2.  功能：输入该指令 后服务端要将新的域名文件发送给客户端 客户端应当接受新的域名文件并更新之前的域名文件然后重新载入该模组并重新读取配置文件和域名文件
操作：
目标选择器：作用于玩家自己的本地文件
权限等级：0
3.  反馈：

子指令 : `/areahint frequency`
1.  名称：`frequency`
2.  功能：使用此指令时 调整配置文件中对应的选项的参数 并将调整后的参数展示给玩家，并且执行一次/areahint reload
举个例子 输入/areahint frequency 2 后，将配置文件中的Frequency选项后面的数字改为2 
目标选择器：作用于玩家自己的本地文件
权限等级：0 

子指令 : `/areahint subtitlerender`
1.  名称：`subtitlerender`
2.  功能：使用此指令时 调整配置文件中对应的选项的参数 并将调整后的参数展示给玩家，并且执行一次/areahint reload
注意我的世界指令只能使用小写 所以指令后面输入cpu opengl vulkan 分别对应CPU OpenGL Vulkan 对应修改配置文件
举个例子 输入/areahint subtitlerender cpu 后，将配置文件中的SubtitleRender选项后面的选项改为CPU
目标选择器：作用于玩家自己的本地文件
权限等级：0

子指令 : `/areahint subtitlestyle`
1.  名称：`subtitlestyle`
2.  功能：使用此指令时 调整配置文件中对应的选项的参数 并将调整后的参数展示给玩家，并且执行一次/areahint reload
指令后面可以输入full simple mixed 对应修改配置文件
举个例子 输入/areahint subtitlestyle full 后，将配置文件中的SubtitleStyle选项后面的选项改为full
目标选择器：作用于玩家自己的本地文件
权限等级：0

子指令 : `/areahint add`
1.  名称：`add`
2.  功能：使用此指令时 首先检测add的后面的内容是否符合写入规范格式（ 如果格式不规范那么模组将会出bug ）如果符合将add的后面的内容添加入服务端的域名文件中   在服务端的域名文件中添加一行 并将添加的参数展示给玩家，并且执行一次/areahint reload 如果不符合，那么就显示输入内容不符合格式
规范格式：{"name": "这里是区域名称（我将其定义为域名 这个定义上下文通用）", "vertices": [这是多边形的一个点,{横坐标,纵坐标},{横坐标,纵坐标},{横坐标,纵坐标},"second-vertices":{横向最小坐标值,纵向最大坐标值},{横向最大坐标值,纵向最大坐标值},{横向最大坐标值,纵向最小坐标值},{横向最小坐标值,纵向最小坐标值},"level": 指域名等级（ 必须为整数 数字越大域名等级越小 1为顶级域名 2为二级域名 3为三级域名 2和3为次级域名 注意 1对于域名等级并不是最大值 ） ,"base-name":"这里是该域名所指向的是上一级的域名（指向的域名的域名等级必须等于该域名等级-1 null就是无上级域名）"]}
注意：vertices中应当至少要有三个点构成一个三角形 如果少于三个点要报错
举个例子 输入/areahint add {"name": "一号区域", "vertices": [{0,10},{10,0},{0,-10},{5,5},{-5,-5},{-10,0}],"second-vertices":[{-10,10},{10,10},{10,-10},{-10,-10}],"level": 1,"base-name": null } 后，将域名文件添加一行{"name": "一号区域", "vertices": [{0,10},{10,0},{0,-10},{5,5},{-5,-5},{-10,0}],"second-vertices":[{-10,10},{10,10},{10,-10},{-10,-10}],"level": 1,"base-name": null }
目标选择器：作用于服务器的域名文件
权限等级：2（仅限管理员）

模组需要获取本地游玩玩家的坐标数据 通过射线法（射线法（Ray Casting）
基本思想是从给定点 P 向右（正 x 方向）发射一条水平射线，并计算该射线与多边形边的交点数量：
如果交点数量为奇数：点 P 在多边形内部（包括边界）。
如果交点数量为偶数：点 P 在多边形外部。
射线法利用了拓扑学中的“奇偶规则”：奇数个交点表示点在内部。
算法处理了边界情况（如点正好在边上或顶点上），通过显式检查边界确保准确性。水平边被忽略，因为它们不会与水平射线相交。当射线穿过顶点时，算法通过条件 `(y_i > Py) != (y_{i+1} > Py)` 自动处理（只计数一次，避免重复计数）。）来判定玩家是否在边界之内。 最多一秒钟判定一次（这里的判定频率为配置文件中的默认情况 实际应该按照配置文件）
 程序每判定一次 应该赋予玩家域名属性（指玩家现在所在的域名）域名属性是唯一的 如果没有域名属性则为null
判定逻辑：如果玩家没有域名属性（null或者域名属性找不到相同的域名）首先检测玩家是否在顶级域名的第二级顶点之内 如果都不在 就不显示字样 如果在 那么检测玩家是否在顶级域名的第一级顶点之内 如果不在之内 则不显示字样
 如果在之内 则检测玩家是否在二级域名的第二级顶点之内 如果都不在 就只显示顶级域名并赋予玩家该域名（顶级域名）的域名属性 如果在之内 那么检测玩家是否在二级域名的第一级顶点之内 如果不在之内 则显示顶级域名并赋予玩家该域名（顶级域名）的域名属性
如果在之内 则检测玩家是否在三级域名的第二级顶点之内 如果都不在 就显示顶级域名和二级域名并赋予玩家该域名（二级域名）的域名属性 如果在之内 那么检测玩家是否在二级域名的第一级顶点之内 如果不在之内 则显示顶级域名和二级域名并赋予玩家该域名（二级域名）的域名属性 如果在之内 则显示顶级域名 二级域名和三级域名并赋予玩家该域名（三级域名）的域名属性
如果玩家有域名属性 那么判定时则在当前域名所指向的上级域名（顶级域名没有特殊指向的上级域名 他的上级域名就是整个地图（null））中寻找同级域名（与当前域名属性域名等级相同的域名）。（这个步骤也可以理解为寻找base-name相同的域名）检测玩家是否在同级域名的第二级顶点之内 如果都不在 那么就检测玩家是否在同级域名所指向的上级域名的第二级顶点之内 如果不在上级域名的第二级顶点之内那么就再次追溯更上一级的域名 就按照这个逻辑以此类推 如果在上级域名的第二级顶点之内 那么就检测是否在上级顶点的第一级顶点之内 如果不在上一集的第一集顶点那么就再次追溯更上一级的域名 按照这个逻辑以此类推 如果再上一级域名的第一级顶点之内那么就显示对应的字样并赋予玩家该域名的域名属性 那么检测玩家在同级域名的第一级顶点之内 如果玩家不在同级域名的第一级顶点之内 这就开始追溯上一级域名 按照之前的逻辑以此类推 如果在其他同级域名的第一级顶点之内 那么就显示相应的字样并赋予玩家域名属性
注意这个逻辑里面所提到的字样的显示是引用的full的 而实际的展示内容应该参考配置文件中的选择而有所不同
模组需要动态检测频率 原理：根据玩家运动状态自动调整检测频率静止时减少检测次数移动时提高位置更新精度平衡性能和体验最高每秒一次
层级内距离排序 原理：在同一层级内优先检测距离玩家最近的区域
请注意这里的显示字样的显示逻辑其实是与域名属性所挂钩两者并非独立存在的
字样显示逻辑如下
如果玩家域名属性检测后与原有的域名不同那么就会在游戏内显示更新后的相对应的域名的相对应的字样 反之如果检测后与原有域名相同则不显示 注意显示字样只显示一级域名二级域名和三级域名对应level等级为123 显示字样的排版由你决定 必须要美观 显示字样只显示域名的字样 不需要显示level等级
字幕的效果
类似于游戏中的/title指令（只有字 没有任何边框） 所生成的效果
动态进入动画：区域名称从屏幕上方滑入（Y轴位移）伴随半透明淡入效果（alpha 0 → 1）动画时长：0.5秒（使用ease-out缓动）
字体颜色为白色 字体有半透明黑色底条 停留时间 ：固定显示3秒 退出动画：向上淡出（Y轴位移 + alpha 1 → 0）时长：0.3秒（使用ease-in缓动）
服务端服务端不需要去计算玩家的位置和显示字样 只需要实现发送上层文件夹中的对应文件夹中的域名文件到客户端就行了 服务端的存放文件位置与客户端相同 在服务端开始运行时，应该检测上层有没有对应的文件夹（areas-hint） 如果没有对应文件夹应该创建一个文件夹 如果有文件夹再发送上层文件夹中的对应文件夹的所有域名文件至客户端
如果服务端的域名文件因为add指令更改 那么将重新传输一次域名文件到客户端（每执行一次add指令后将发送客户端的新的域名文件 将客户端的该域名文件更新）
