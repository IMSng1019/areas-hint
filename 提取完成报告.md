# 区域提示模组 - 中文字符串提取完成报告

## 📊 提取统计

- **扫描文件数**: 111个Java文件
- **提取字符串总数**: 1,968个
- **去重后唯一字符串**: 1,411个
- **生成翻译键值对**: 1,414个(含3个language元数据)

## 📁 生成文件清单

### 1. zh_cn.json (主翻译文件)
- **路径**: `J:\mc\mods\zh_cn.json`
- **格式**: 标准JSON格式
- **内容**: 包含所有翻译键值对,按键名字母顺序排序
- **用途**: 直接用于模组的国际化系统

### 2. extraction_record.md (详细记录)
- **路径**: `J:\mc\mods\extraction_record.md`
- **格式**: Markdown表格
- **内容**: 包含每个字符串的详细信息(文件路径、行号、用途等)
- **用途**: 人工校对和修改参考

### 3. 提取记录.csv (Excel格式)
- **路径**: `J:\mc\mods\提取记录.csv`
- **格式**: CSV(UTF-8 with BOM)
- **内容**: 可在Excel中打开的详细记录
- **用途**: 便于筛选、排序和批量编辑

### 4. extraction_stats.txt (统计信息)
- **路径**: `J:\mc\mods\extraction_stats.txt`
- **格式**: 纯文本
- **内容**: 按模块分类的统计数据
- **用途**: 快速了解各模块的翻译量

## 🏷️ 键名命名规范

所有翻译键采用点分层级结构:

```
<模块>.<消息类型>.<关键词1>.<关键词2>...
```

### 第一级 - 模块分类
- `command` - 命令系统 (230条)
- `easyadd` - EasyAdd交互式添加 (97条)
- `expandarea` - 域名扩展 (73条)
- `shrinkarea` - 域名收缩 (115条)
- `dividearea` - 域名分割 (83条)
- `addhint` - 添加顶点 (35条)
- `deletehint` - 删除顶点 (20条)
- `gui` - 用户界面 (144条)
- `debug` - 调试信息 (9条)
- `boundviz` - 边界可视化 (5条)
- `replacebutton` - 按键替换 (17条)
- `message` - 一般消息 (580条)

### 第二级 - 消息类型
- `title` - 标题(含===的标题行)
- `error` - 错误消息(§c开头或含"错误""失败")
- `success` - 成功消息(含"成功""已完成")
- `prompt` - 提示消息(含"请""输入""选择")
- `button` - 按钮文本(含[])
- `hint` - 提示说明
- `message` - 一般消息

### 第三级及以后 - 关键词
根据内容自动提取的关键词,如:
- `area` - 域名
- `vertex` - 顶点
- `altitude` - 高度
- `color` - 颜色
- `dimension` - 维度
- `save` - 保存
- `cancel` - 取消
- `confirm` - 确认
等

## ⚠️ 特殊处理说明

### 1. 颜色代码保留
所有Minecraft颜色代码(§a, §c, §6等)已原样保留,不可删除或翻译。

### 2. 占位符保留
包含以下占位符的字符串已标记,翻译时必须保留:
- `%s` - 字符串占位符
- `%d` - 整数占位符
- `%f` - 浮点数占位符
- `{0}`, `{1}`, `{2}` - 位置占位符

### 3. 拼接字符串
部分字符串在代码中被拆分(如 "前缀" + 变量 + "后缀"),已尽量合并为完整句子。

### 4. 调试日志
包含9条调试日志字符串,可根据需要决定是否翻译。

## 📝 键名示例

```json
{
  "language.name": "简体中文",
  "command.help.title": "§6===== 区域提示模组命令帮助 =====",
  "command.error.area.add": "§c添加域名失败，请检查日志",
  "command.success.area.save": "§a成功添加域名: {0}",
  "easyadd.prompt.area.name": "§a请在聊天框中输入域名名称：",
  "easyadd.button.confirm": "§a[保存域名]",
  "easyadd.error.altitude": "§c错误：最低高度必须小于最高高度",
  "gui.button.cancel": "§c[取消]",
  "gui.prompt.color.select": "§a请选择域名颜色：",
  "message.area.enter": "进入区域 {0}",
  "debug.area.detection": "检测到域名: {0}"
}
```

## ✅ 质量保证

1. **去重处理**: 相同的中文字符串只保留一个键值对
2. **上下文保留**: 记录了每个字符串的文件路径和行号
3. **分类清晰**: 按模块和消息类型进行了系统分类
4. **格式规范**: 所有键名采用小写+点分格式
5. **特殊字符保留**: 颜色代码和占位符全部保留

## 🔄 后续工作建议

1. **人工校对**: 检查键名是否合理,是否有重复或遗漏
2. **占位符验证**: 确认所有占位符位置正确
3. **颜色代码检查**: 确保颜色代码未被破坏
4. **上下文验证**: 对于拼接的字符串,验证完整性
5. **翻译准备**: 基于zh_cn.json创建其他语言版本(如en_us.json)

## 📌 注意事项

1. **不要修改键名**: 键名需要与代码中的引用保持一致
2. **保持格式**: JSON格式必须正确,注意逗号和引号
3. **编码格式**: 文件必须使用UTF-8编码
4. **颜色代码**: §符号后的字符是颜色代码,不可翻译
5. **占位符顺序**: 如果有多个占位符,注意保持顺序

## 📧 联系方式

如有问题或需要调整,请参考:
- 提取脚本: `extract_chinese_v2.py`
- CSV生成脚本: `generate_csv.py`
- 原始数据: `chinese_strings_raw.txt`

---

**生成时间**: 2026-02-21
**提取工具**: Python 3 + 正则表达式
**模组版本**: Minecraft 1.20.4 Fabric
